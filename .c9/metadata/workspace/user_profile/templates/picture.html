{"filter":false,"title":"picture.html","tooltip":"/user_profile/templates/picture.html","undoManager":{"mark":53,"position":53,"stack":[[{"start":{"row":0,"column":0},"end":{"row":75,"column":0},"action":"insert","lines":["{% extends 'base.html' %}","{% load staticfiles %}","{% load i18n %}","","{% block title %}{% trans 'Account Settings' %}{% endblock %}","","{% block head %}","  <link href=\"{% static 'css/jquery.Jcrop.min.css' %}\" rel=\"stylesheet\">","  <script src=\"{% static 'js/jquery.Jcrop.min.js' %}\"></script>","  <script src=\"{% static 'js/picture.js' %}\"></script>","{% endblock head %}","","{% block main %}","  <div class=\"page-header\">","    <h1>{% trans 'Account Settings' %}</h1>","  </div>","  <div class=\"row\" style=\"margin-top: 2em\">","    <div class=\"col-md-3\">","      {% include 'core/partial_settings_menu.html' with active='picture' %}","    </div>","    <div class=\"col-md-9\">","      {% if messages %}","        {% for message in messages %}","          <div class=\"alert alert-success alert-dismissable\">","            <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">&times;</button>","            {{ message }}","          </div>","        {% endfor %}","      {% endif %}","      <h3 style=\"margin-top: 0\">{% trans 'Change Picture' %}</h3>","      <img src=\"{{ user.profile.get_picture }}\" style=\"width: 150px; border-radius: 5px; margin-bottom: 1em;\">","      <form enctype=\"multipart/form-data\" method=\"post\" action=\"{% url 'upload_picture' %}\" id=\"picture-upload-form\">","        {% csrf_token %}","        <input type=\"file\" name=\"picture\" style=\"display: none\">","        <button type=\"button\" class=\"btn btn-default\" id=\"btn-upload-picture\">{% trans 'Upload new picture' %}</button>","      </form>","","      {% if uploaded_picture %}","        <form method=\"post\" action=\"{% url 'save_uploaded_picture' %}\">","          {% csrf_token %}","          <div class=\"modal fade\" id=\"modal-upload-picture\">","            <div class=\"modal-dialog\">","              <div class=\"modal-content\">","                <div class=\"modal-header\">","                  <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>","                  <h4 class=\"modal-title\">{% trans 'Crop Picture' %}</h4>","                </div>","                <div class=\"modal-body\">","                  <div class=\"selected-picture\">","                    <p>{% trans 'Crop the profile picture and then click on the' %} <strong>{% trans 'Save Picture' %}</strong> {% trans 'button' %}</p>","                    <img src=\"{{ MEDIA_URL }}profile_pictures/{{ user.username }}_tmp.jpg?_={% now 'U' %}\" id=\"crop-picture\">","                    <input type=\"hidden\" id=\"x\" name=\"x\" />","                    <input type=\"hidden\" id=\"y\" name=\"y\" />","                    <input type=\"hidden\" id=\"w\" name=\"w\" />","                    <input type=\"hidden\" id=\"h\" name=\"h\" />","                  </div>","                  <script type=\"text/javascript\">","                    $(function () {","                      $(\"#modal-upload-picture\").modal();","                      window.history.pushState(\"\", \"\", \"/settings/picture/\");","                    });","                  </script>","                </div>","                <div class=\"modal-footer\">","                  <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">{% trans 'Close' %}</button>","                  <button type=\"submit\" class=\"btn btn-primary\">{% trans 'Save changes' %}</button>","                </div>","              </div>","            </div>","          </div>","        </form>","      {% endif %}","    </div>","  </div>","{% endblock main %}",""],"id":1}],[{"start":{"row":18,"column":43},"end":{"row":18,"column":44},"action":"remove","lines":["u"],"id":2}],[{"start":{"row":18,"column":42},"end":{"row":18,"column":43},"action":"remove","lines":["n"],"id":3}],[{"start":{"row":18,"column":41},"end":{"row":18,"column":42},"action":"remove","lines":["e"],"id":4}],[{"start":{"row":18,"column":40},"end":{"row":18,"column":41},"action":"remove","lines":["m"],"id":5}],[{"start":{"row":18,"column":39},"end":{"row":18,"column":40},"action":"remove","lines":["_"],"id":6}],[{"start":{"row":18,"column":38},"end":{"row":18,"column":39},"action":"remove","lines":["s"],"id":7}],[{"start":{"row":18,"column":37},"end":{"row":18,"column":38},"action":"remove","lines":["g"],"id":8}],[{"start":{"row":18,"column":36},"end":{"row":18,"column":37},"action":"remove","lines":["n"],"id":9}],[{"start":{"row":18,"column":35},"end":{"row":18,"column":36},"action":"remove","lines":["i"],"id":10}],[{"start":{"row":18,"column":34},"end":{"row":18,"column":35},"action":"remove","lines":["t"],"id":11}],[{"start":{"row":18,"column":33},"end":{"row":18,"column":34},"action":"remove","lines":["t"],"id":12}],[{"start":{"row":18,"column":32},"end":{"row":18,"column":33},"action":"remove","lines":["e"],"id":13}],[{"start":{"row":18,"column":31},"end":{"row":18,"column":32},"action":"remove","lines":["s"],"id":14},{"start":{"row":18,"column":30},"end":{"row":18,"column":31},"action":"remove","lines":["_"]}],[{"start":{"row":18,"column":29},"end":{"row":18,"column":30},"action":"remove","lines":["l"],"id":15}],[{"start":{"row":18,"column":28},"end":{"row":18,"column":29},"action":"remove","lines":["a"],"id":16}],[{"start":{"row":18,"column":27},"end":{"row":18,"column":28},"action":"remove","lines":["i"],"id":17}],[{"start":{"row":18,"column":26},"end":{"row":18,"column":27},"action":"remove","lines":["t"],"id":18}],[{"start":{"row":18,"column":25},"end":{"row":18,"column":26},"action":"remove","lines":["r"],"id":19}],[{"start":{"row":18,"column":24},"end":{"row":18,"column":25},"action":"remove","lines":["a"],"id":20}],[{"start":{"row":18,"column":23},"end":{"row":18,"column":24},"action":"remove","lines":["p"],"id":21}],[{"start":{"row":18,"column":23},"end":{"row":18,"column":24},"action":"insert","lines":["s"],"id":22}],[{"start":{"row":18,"column":24},"end":{"row":18,"column":25},"action":"insert","lines":["e"],"id":23}],[{"start":{"row":18,"column":25},"end":{"row":18,"column":26},"action":"insert","lines":["t"],"id":24}],[{"start":{"row":18,"column":26},"end":{"row":18,"column":27},"action":"insert","lines":["t"],"id":25}],[{"start":{"row":18,"column":27},"end":{"row":18,"column":28},"action":"insert","lines":["i"],"id":26}],[{"start":{"row":18,"column":28},"end":{"row":18,"column":29},"action":"insert","lines":["n"],"id":27}],[{"start":{"row":18,"column":29},"end":{"row":18,"column":30},"action":"insert","lines":["g"],"id":28}],[{"start":{"row":18,"column":30},"end":{"row":18,"column":31},"action":"insert","lines":["2"],"id":29}],[{"start":{"row":21,"column":6},"end":{"row":28,"column":17},"action":"remove","lines":["{% if messages %}","        {% for message in messages %}","          <div class=\"alert alert-success alert-dismissable\">","            <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">&times;</button>","            {{ message }}","          </div>","        {% endfor %}","      {% endif %}"],"id":30}],[{"start":{"row":21,"column":5},"end":{"row":21,"column":6},"action":"remove","lines":[" "],"id":31}],[{"start":{"row":21,"column":4},"end":{"row":21,"column":5},"action":"remove","lines":[" "],"id":32}],[{"start":{"row":21,"column":0},"end":{"row":21,"column":4},"action":"remove","lines":["    "],"id":33}],[{"start":{"row":20,"column":26},"end":{"row":21,"column":0},"action":"remove","lines":["",""],"id":34}],[{"start":{"row":51,"column":64},"end":{"row":51,"column":65},"action":"remove","lines":["s"],"id":35}],[{"start":{"row":9,"column":54},"end":{"row":10,"column":0},"action":"insert","lines":["",""],"id":36},{"start":{"row":10,"column":0},"end":{"row":10,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":10,"column":2},"end":{"row":10,"column":3},"action":"insert","lines":["<"],"id":37}],[{"start":{"row":10,"column":3},"end":{"row":10,"column":4},"action":"insert","lines":["s"],"id":38}],[{"start":{"row":10,"column":4},"end":{"row":10,"column":5},"action":"insert","lines":["c"],"id":39}],[{"start":{"row":10,"column":5},"end":{"row":10,"column":6},"action":"insert","lines":["r"],"id":40}],[{"start":{"row":10,"column":6},"end":{"row":10,"column":7},"action":"insert","lines":["i"],"id":41}],[{"start":{"row":10,"column":7},"end":{"row":10,"column":8},"action":"insert","lines":["p"],"id":42}],[{"start":{"row":10,"column":8},"end":{"row":10,"column":9},"action":"insert","lines":["t"],"id":43}],[{"start":{"row":10,"column":9},"end":{"row":10,"column":10},"action":"insert","lines":[" "],"id":44}],[{"start":{"row":10,"column":10},"end":{"row":10,"column":11},"action":"insert","lines":["s"],"id":45}],[{"start":{"row":10,"column":11},"end":{"row":10,"column":12},"action":"insert","lines":["r"],"id":46}],[{"start":{"row":10,"column":12},"end":{"row":10,"column":13},"action":"insert","lines":["c"],"id":47}],[{"start":{"row":10,"column":13},"end":{"row":10,"column":14},"action":"insert","lines":["="],"id":48}],[{"start":{"row":10,"column":14},"end":{"row":10,"column":16},"action":"insert","lines":["\"\""],"id":49}],[{"start":{"row":10,"column":15},"end":{"row":10,"column":70},"action":"insert","lines":["http://jcrop-cdn.tapmodo.com/v0.9.12/js/jquery.Jcrop.js"],"id":50}],[{"start":{"row":10,"column":71},"end":{"row":10,"column":81},"action":"insert","lines":["></script>"],"id":51}],[{"start":{"row":8,"column":1},"end":{"row":8,"column":63},"action":"remove","lines":[" <script src=\"{% static 'js/jquery.Jcrop.min.js' %}\"></script>"],"id":52}],[{"start":{"row":8,"column":0},"end":{"row":8,"column":1},"action":"remove","lines":[" "],"id":53}],[{"start":{"row":7,"column":72},"end":{"row":8,"column":0},"action":"remove","lines":["",""],"id":54}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":7,"column":72},"end":{"row":7,"column":72},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1456859149936,"hash":"5f4549196cff83b2d099d421c97c8dd7ba937720"}